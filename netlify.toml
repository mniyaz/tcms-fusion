[build]
  publish = "build"
  command = "npm run build"
  functions = "netlify/functions"

# Rewrite /api/* to Netlify Functions so client can use same origin
[[redirects]]
  from = "/api/login"
  to = "/.netlify/functions/login"
  status = 200
  force = true

[[redirects]]
  from = "/api/check-auth"
  to = "/.netlify/functions/check-auth"
  status = 200
  force = true

[[redirects]]
  from = "/api/auth-diagnostic"
  to = "/.netlify/functions/auth-diagnostic"
  status = 200
  force = true

[[redirects]]
  from = "/api/logout"
  to = "/.netlify/functions/logout"
  status = 200
  force = true

[[redirects]]
  from = "/api/create-docs-user"
  to = "/.netlify/functions/create-docs-user"
  status = 200
  force = true

[[redirects]]
  from = "/api/delete-docs-user"
  to = "/.netlify/functions/delete-docs-user"
  status = 200
  force = true

[[redirects]]
  from = "/api/list-docs-users"
  to = "/.netlify/functions/list-docs-users"
  status = 200
  force = true
